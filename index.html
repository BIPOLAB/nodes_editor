<!doctype html>
<html>
  <head>
    <title>WiFi ESP3</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="/src/style.css" rel="stylesheet" />
  </head>
  <body>
    <div class="bg-gray-800">
      <h1>index root</h1>
    </div>

    <label>SSID: <input id="ssid" /></label><br />
    <label>Password: <input id="pass" type="password" /></label><br />
    <button onclick="conectar()">Conectar</button>
    <button onclick="olvidar()">Olvidar Red</button>
    <button onclick="verEstado()">Estado</button>

    <pre id="log"></pre>

    <script>
      function conectar() {
        const ssid = document.getElementById("ssid").value;
        const pass = document.getElementById("pass").value;
        window.api.enviarComando(`connect,${ssid},${pass}`);
      }

      function olvidar() {
        window.api.enviarComando(`forget`);
      }

      function verEstado() {
        window.api.enviarComando(`status`);
      }

      window.api.onSerialData((msg) => {
        const log = document.getElementById("log");
        log.textContent += msg + "\n";
      });
      console.log("window.api:", window.api);
    </script>
  </body>
</html>
